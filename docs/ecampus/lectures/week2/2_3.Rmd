---
title: "Ordinary Least Squares Derivation, Part III"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=F)

library(wooldridge)
data(wage2)
```

## Lecture Video

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/391241/sp/39124100/embedIframeJs/uiconf_id/22119142/partner_id/391241?iframeembed=true&playerId=kaltura_player&entry_id=0_k3czgop6&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[hotspots.plugin]=1&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=0_7r7wibya" width="720" height="480"  allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player"></iframe>


## OLS in R

R can easily find the values of $\widehat{\beta}_0$ and $\widehat{\beta}_1$ that minimize the sum of the squared residuals. Once again, let's estimate the model:

$$wage = \beta_0 + \beta_1 educ + u$$

In R, we simply type:

```{r}
lm(wage ~ educ, data=wage2)
```

The `lm()` function estimates a *linear model*, which is just another way of saying "ordinary least squares." The first argument in the `lm()` function is what R calls a *formula*. Formulas in R are constructed by typing the left-hand-side, dependent variable first, followed by a tilde (`~`), then the right-hand-side, independent variable(s). It looks similar to our model that we wrote above, but we have omitted the coefficients and the error term. We have to use the `~` symbol instead of an equals sign because `=` means something specific in R (note that we use `=` when telling `lm()` to use the `wage2` dataset).

The output of the `lm()` command should look like:

```{r eval=T, echo=F}
lm(wage ~ educ, data=wage2)
```

R is telling us the estimated OLS coefficients. The number reported under `(Intercept)` is the estimate for $\beta_o$, while the number under `educ` is the estimate of $\beta_1$, the coefficient on the `educ` variable. Note that these values are identical to what we found on the previous page. 

## Practice Question
Use the `lm()` function to calculate $\widehat{\beta}_1$ and $\widehat{\beta}_0$ for the model:

$$\ln(wage) = \beta_0 + \beta_1 educ + u$$


<div id="spoiler" style="display:none">

```{r, eval=T}
lm(lwage ~ educ, data=wage2)
```

</div>

<button title="Click to Show/Hide Content" type="button" onclick="if(document.getElementById('spoiler') .style.display=='none') {document.getElementById('spoiler') .style.display=''}else{document.getElementById('spoiler') .style.display='none'}">Show/Hide Solution</button>



[Back](2_2.html) | [Table of contents](2_0.html) | [Next](2_4.html) 
