---
title: "Ordinary Least Squares Derivation, Part I"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=F)
library(wooldridge)
library(ggplot2)
data(wage2)
```

## Lecture Video

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/391241/sp/39124100/embedIframeJs/uiconf_id/22119142/partner_id/391241?iframeembed=true&playerId=kaltura_player&entry_id=0_j74to1ze&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[hotspots.plugin]=1&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=0_7r7wibya" width="720" height="480"  allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player"></iframe>

## Exploring the Data

In the above video, Dr. Pugatch describes why we might care about the relationship between two variables, such as education and earnings. Let's look at a real-world example of this relationship in R.

We'll use data that is provided by the `wooldridge` package in R. If you haven't yet, install this package by typing 

```{r}
install.packages("wooldridge")
```

in the RStudio console (you only need to do this once on your computer). The `wooldridge` package contains a number of different datasets. We can get information about the available datasets by clicking on the "Packages" tab in the bottom-right panel of RStudio, then scrolling down until we find the `wooldridge` package. Scroll down until you find the link for the `wage2` dataset, and click on it to read the details. 

Next, install the `ggplot2` package:

```{r}
install.packages("ggplot2")
```

`ggplot2` is a library devoted to making beautiful graphics in R. It is one of the most useful and widely used packages in R. 

Now let's open a new R script and save it as something memorable (I call mine `week2.R`). At the top of the script (line 1), type:

```{r}
library(wooldridge)
```

Then click the "Run" button (or press Control+Enter on your keyboard) to send the command to the console. The `wooldridge` package will now be loaded into your current R session. Do the same to load the `ggplot2` package:

```{r}
library(ggplot2)
```

Next, load the `wage2` dataset by adding the following line to your script and clicking "Run" to send the command to the console.

```{r}
data(wage2)
```

This command adds an *object* called `wage2` to the R *environment* (you can see this object in the "Environment" tab in the top-right of RStudio). The `wage2` object is a type of object called a `data.frame`. This is exactly what it sounds like---a table (frame) of data. You can think of it like an Excel spreadsheet that exists inside of R. 

Now let's visualize the relationship between education and earnings in these data using a scatter plot. The variables we are interested in are called `educ` and `wage` in the data frame. We can plot the relationship with the `qplot()` ("quick plot") function:

```{r}
qplot(x=educ, y=wage, data=wage2)
```

The syntax should make sense. `educ` is the variable to be plotted on the x-axis, `wage` is the variable to be plotted on the y-axis, and `wage2` is the data frame that we would like to use. 

## Practice Question
Using the `qplot()` command, create a scatter plot of the natural log of wages vs education.

<div id="spoiler" style="display:none">

From the documentation for the `wooldridge` package, we can see that the variable `lwage` is the "natural log of wage."
```{r, eval=T}
qplot(x=educ, y=lwage, data=wage2)
```

</div>

<button title="Click to Show/Hide Content" type="button" onclick="if(document.getElementById('spoiler') .style.display=='none') {document.getElementById('spoiler') .style.display=''}else{document.getElementById('spoiler') .style.display='none'}">Show/Hide Solution</button>



[Table of contents](2_0.html) | [Next](2_2.html) 
