---
title: "Goodness of fit: R-squared"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=F)
```

## Lecture Video

**Embedded video:**[https://media.oregonstate.edu/media/t/0_agrnq8kl](https://media.oregonstate.edu/media/t/0_agrnq8kl)

## R Example
Open the `week5.R` script that we started previously and click the "Source" button to execute all of the commands. 

Using the `gpa1` dataset from the `wooldridge` package, let's estimate the equation

$$colGPA = \beta_0 + \beta_1 HSGPA + u$$


```{r}
data(gpa1)
lm_gpa <- lm(colGPA ~ hsGPA, data=gpa1)
summary(lm_gpa)
```

Note that $R^2=0.1719$, and the estimate for $\beta_1$ is $\widehat{\beta}_1 = 0.4824$

Now let's add an additional covariate to the model:

$$colGPA = \beta_0 + \beta_1 HSGPA + \beta_2 X + u$$

Note that there's no variable called $X$ in the `gpa1` dataset. Instead, let's first create a random variable $X\sim N(0,1)$:

```{r}
# Setting the seed makes sure that we get the same random numbers
#    each time we generate x
set.seed(1234)
x <- rnorm(length(gpa1$colGPA))
lm_gpax <- lm(colGPA ~ hsGPA + x, data=gpa1)
summary(lm_gpax)
```

Note that the $R^2$ has increased to 0.1746. But is this model "better" than the previous model? Clearly, the answer is no. The variable that we added ($X$) has no explanatory value---we generated it at random. Neither the OLS estimate of $\beta_1$ nor the predicted values of $colGPA$ are more accurate after we include the random variable $x$.



## Practice Question
True or false: We should always prefer models with higher $R^2$.

<div id="spoiler" style="display:none">

False. $R^2$ doesn't necessarily tell us if one model is "better" than another model.

</div>

<button title="Click to Show/Hide Content" type="button" onclick="if(document.getElementById('spoiler') .style.display=='none') {document.getElementById('spoiler') .style.display=''}else{document.getElementById('spoiler') .style.display='none'}">Show/Hide Solution</button>



---

[Previous]() | [Table of contents]() | [Next]() 
