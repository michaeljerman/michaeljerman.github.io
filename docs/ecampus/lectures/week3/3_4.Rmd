---
title: "OLS Derivation, Part IV"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval=F)
source(week3.R)
```

## Lecture Video

<iframe id="kaltura_player" src="https://cdnapisec.kaltura.com/p/391241/sp/39124100/embedIframeJs/uiconf_id/22119142/partner_id/391241?iframeembed=true&playerId=kaltura_player&entry_id=0_d28958g8&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[hotspots.plugin]=1&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;&wid=0_rn57bxvh" width="720" height="480"  allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player"></iframe>


## R Example

Let's continue our example of the wage regressions from the previous page. Let's specify three models:

$$\tilde{wage} = \tilde{\beta}_0 + \tilde{\beta}_1 educ$$
$$\widehat{wage} = \widehat{\beta}_0 + \widehat{\beta}_1 educ + \widehat{\beta}_2 exper$$
$$\widehat{exper} = \widehat{\delta}_0 + \widehat{\delta}_1 educ$$

Estimating the models in R:

```{r, eval=T, results=F}
tilde_reg <- lm(wage ~ educ, data=wage2)
hat_reg <- lm(wage ~ educ + exper, data=wage2)
delta_reg <- lm(exper ~ educ, data=wage2)
```

We'd like to compare the coefficients from each of the models, but it's tedious to copy and paste the output from each command. Instead, let's use the `coefficients()` function in R, which extracts the coefficients of the model as a vector of values. For instance, if we want to find (and save) the estimate $\tilde{\beta}_1$, we tell R to get the second coefficient from the `tilde_reg` regression (the coefficients are listed in order, starting with $\beta_0$):

```{r, eval=T, results=F}
beta1tilde <- coefficients(tilde_reg)[2]
beta1hat <- coefficients(hat_reg)[2]
beta2hat <- coefficients(hat_reg)[3]
delta1hat <- coefficients(delta_reg)[2]
```

We can now compare the coefficient estimates across the models:

```{r, eval=T}
c(beta1tilde, beta1hat + beta2hat*delta1hat)
```

Both numbers are the same, as expected.



[Previous](3_3.html) | [Table of contents](3_0.html) | [Next](3_5.html)
